{"version":3,"sources":["App.js","index.js"],"names":["hash","window","location","substring","split","reduce","initial","item","parts","decodeURIComponent","spotifyAuth","process","Login","props","className","Button","variant","onClick","e","assign","NavBar","Typography","IconButton","aria-label","href","Menu","id","useStyles","makeStyles","theme","root","flexGrow","backgroundColor","boxShadow","marginTop","width","margin","img","height","details","display","flexDirection","justifyContent","textAlign","title","play","color","marginBottom","marginLeft","marginRight","Album","classes","Grid","container","spacing","xs","src","image","component","albumName","albumType","artist","startIcon","openLink","App","fetchMoreData","axios","get","state","next","headers","token","then","res","setState","items","concat","data","albums","catch","err","console","log","_token","access_token","this","dataLength","length","hasMore","loader","style","map","album","key","name","images","url","artists","album_type","external_urls","spotify","React","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.8c17ebb2.chunk.js","sourcesContent":["\r\nimport React from 'react';\r\n\r\n//axios\r\nimport axios from 'axios';\r\n\r\n//infinite scroll\r\nimport InfiniteScroll from 'react-infinite-scroll-component';\r\n\r\n//material-ui \r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport PlayCircleFilledIcon from '@material-ui/icons/PlayCircleFilled';\r\nimport Grid from '@material-ui/core/Grid';\r\n\r\n\r\n// Get the hash of the url\r\nconst hash = window.location.hash\r\n  .substring(1)\r\n  .split(\"&\")\r\n  .reduce((initial, item) => {\r\n    if (item) {\r\n      var parts = item.split(\"=\");\r\n      initial[parts[0]] = decodeURIComponent(parts[1]);\r\n    }\r\n    return initial;\r\n  }, {});\r\n\r\nwindow.location.hash = \"\";\r\n\r\n//Auth link\r\nvar cid = process.env.REACT_APP_CLIENT_ID;\r\nvar uri = 'https://aung-khant-min.github.io/react-spotify-newfeed'\r\nvar spotifyAuth = `https://accounts.spotify.com/authorize?client_id=${cid}&redirect_uri=${uri}&scope=user-read-currently-playing&response_type=token&show_dialog=true`;\r\n\r\n//First Appearence\r\nconst Login = props => (\r\n  <div className=\"login\">\r\n    <Button variant=\"outlined\" onClick={e => window.location.assign(spotifyAuth)}>LINK YOUR SPOTIFY ACCOUNT FIRST</Button>\r\n  </div>\r\n)\r\n\r\n//Nav Bar\r\nconst NavBar = props => (\r\n  <div className=\"navbar\">\r\n    <div>\r\n      <Typography variant=\"h6\">\r\n        SpotifyNewFeed\r\n    </Typography>\r\n    </div>\r\n    <div>\r\n      <IconButton aria-label=\"menu\" href=\"#menu\">\r\n        <MenuIcon />\r\n      </IconButton>\r\n    </div>\r\n  </div>\r\n)\r\n\r\n//Menu\r\nconst Menu = props => (\r\n  <div className=\"popover\" id=\"menu\">\r\n    <div className=\"content\">\r\n      <div className=\"nav\">\r\n        <ul className=\"nav_list\">\r\n          <div className=\"nav_list_item\">\r\n            <li><a href=\"https://developer.spotify.com/\">developer.spotify.com</a></li>\r\n          </div>\r\n          <div className=\"nav_list_item\">\r\n            <li><a href=\"https://material-ui.com/\">material-ui.com</a></li>\r\n          </div>\r\n          <div className=\"nav_list_item\">\r\n            <li><a href=\"https://fonts.google.com/\">fonts.google.com</a></li>\r\n          </div>\r\n          <div className=\"nav_list_item\">\r\n            <a href=\"#\" className=\"close\"></a>\r\n          </div>\r\n        </ul>\r\n      </div>\r\n    </div>\r\n  </div>\r\n)\r\n\r\n//Album \r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n    backgroundColor: 'white',\r\n    boxShadow: '0 4px 8px 0 rgba(0,0,0,0.2)',\r\n    marginTop: 10,\r\n    width: '98%',\r\n    margin: 'auto'\r\n  },\r\n  img: {\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundColor: 'rgb(51, 51, 51)'\r\n  },\r\n  details: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    textAlign: \"center\"\r\n  },\r\n  title: {\r\n    marginTop: 20\r\n  },\r\n  play: {\r\n    color: '#1DB954',\r\n    marginBottom: 10,\r\n    marginLeft: 'auto',\r\n    marginRight: 'auto'\r\n  }\r\n}));\r\n\r\nconst Album = props => {\r\n\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Grid container spacing={0}>\r\n\r\n        <Grid item xs={5} >\r\n          <img src={props.image} className={classes.img} />\r\n        </Grid>\r\n\r\n        <Grid item xs={7} className={classes.details}>\r\n          <Typography component=\"h6\" variant=\"h6\" className={classes.title}>\r\n            {props.albumName}\r\n          </Typography>\r\n          <Typography variant=\"subtitle1\" color=\"textSecondary\">\r\n            {props.albumType} by {props.artist}\r\n          </Typography>\r\n          <Button startIcon={<PlayCircleFilledIcon />} variant=\"outlined\" className={classes.play}\r\n            href={props.openLink}>\r\n            Play\r\n          </Button>\r\n        </Grid>\r\n\r\n      </Grid>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      token: '',\r\n      items: [],\r\n      next: ''\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    // Set token\r\n    let _token = hash.access_token;\r\n    if (_token) {\r\n\r\n      this.setState({\r\n        token: _token\r\n      });\r\n\r\n      axios.get('https://api.spotify.com/v1/browse/new-releases?limit=7',\r\n        { headers: { 'Authorization': 'Bearer ' + _token } })\r\n        .then(res => {\r\n          console.log(res.data.albums.items)\r\n          this.setState({\r\n            items: res.data.albums.items,\r\n            next: res.data.albums.next\r\n          })\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n        })\r\n\r\n    }\r\n  }\r\n\r\n  fetchMoreData = () => {\r\n    axios.get(this.state.next, { headers: { 'Authorization': 'Bearer ' + this.state.token } })\r\n      .then(res => {\r\n        this.setState({\r\n          items: this.state.items.concat(res.data.albums.items),\r\n          next: res.data.albums.next\r\n        })\r\n      })\r\n      .catch(err => {\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  render() {\r\n\r\n    const { token, items, next } = this.state;\r\n\r\n    return (\r\n      token ?\r\n        <div className=\"container\">\r\n          <NavBar />\r\n          <Menu />\r\n          <InfiniteScroll\r\n            dataLength={items.length}\r\n            next={this.fetchMoreData}\r\n            hasMore={true}\r\n            loader={<h5 style={{textAlign:\"center\"}}>Loading...</h5>}>\r\n            {\r\n              items.map(album =>\r\n                <Album\r\n                  key={album.id}\r\n                  albumName={album.name}\r\n                  image={album.images[0].url}\r\n                  artist={album.artists[0].name}\r\n                  albumType={album.album_type}\r\n                  openLink={album.external_urls.spotify}\r\n                />)\r\n            }\r\n          </InfiniteScroll>\r\n        </div>\r\n        : <Login />\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\n"],"sourceRoot":""}